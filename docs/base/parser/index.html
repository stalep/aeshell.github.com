<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>Æsh</title>
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <style type='text/css'>
      /*<![CDATA[*/
        body {
          padding-top: 60px;
        }
      /*]]>*/
    </style>
    <link href='http://aeshell.github.com/stylesheets/styles.css' rel='stylesheet' type='text/css' />
    <!--[if lt IE 9]>
      <script src='//html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
    <![endif]-->
  </head>
  <body>
    <div class='navbar navbar-fixed-top'>
      <div class='navbar-inner'>
        <div class='container'>
          <div class='github-banner'>
            <a href='https://github.com/aeshell/aeshell.github.com'>
              <img alt='Fork me on GitHub' src='https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png' style='position:absolute;top:0;right:0;border:0;' />
            </a>
          </div>
          <a class='brand' href='http://aeshell.github.com'>Æsh</a>
          <ul class='nav'>
            <li>
              <a href='/docs/'>Documentation</a>
            </li>
            <li>
              <a href='/extensions/index.html'>Extensions</a>
            </li>
            <li>
              <a href='http://github.com/aeshell'>Source Code</a>
            </li>
            <li>
              <a href='/docs/base/contribute'>Contribute</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class='container'>
      <script type='text/javascript'>
  //<![CDATA[
    $(document).ready(function() {
      var pathname = window.location.pathname;
      console.log(pathname);
      $("body > .navbar a[href='/docs/index.html']").closest("li").addClass("active");
      $("body > .content ul.nav a[href='" + pathname + "']").closest("li").addClass("active");
    });
  //]]>
</script>
<div class='container-fluid'>
  <div class='row-fluid'>
    <div class='span2'>
      <ul class='nav nav-list'>
        <li class='nav-header'>Æsh Base</li>
        <li>
          <a href='/docs/base/'>Getting started</a>
        </li>
        <li>
          <a href='/docs/base/redirection/'>Redirection</a>
        </li>
        <li>
          <a href='/docs/base/faq/'>FAQ</a>
        </li>
        <li>
          <a href='/docs/base/settings/'>Settings</a>
        </li>
        <li>
          <a href='/docs/base/completion/'>Completion</a>
        </li>
        <li>
          <a href='/docs/base/editingmode/'>Editing</a>
        </li>
        <li>
          <a href='/docs/base/parser/'>CL Parser</a>
        </li>
        <li>
          <a href='/docs/base/alias/'>Aliases</a>
        </li>
        <li>
          <a href='/docs/base/utils/'>Utils</a>
        </li>
        <li>
          <a href='/docs/base/contribute/'>Get Involved</a>
        </li>
      </ul>
    </div>
    <div class='span10'>
      <h1>Command Line Parser</h1>
<p/>
<p>Æsh provide a simple Command Line Parser that is optional for the developer to make use of. You define the parser either with the use of annotations or by using builder classes.</p>
<p><br/></p>
<h2>Annotation</h2>
<p/>
<p>Probably the easiest way to define a parser is by using annotations. The annotation must be defined at class level and is based from <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/Parameter.java">Parameter</a>. Within the Parameter class you can define multiple <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/Option.java">Option&#8217;s</a>.</p>
<p><br/></p>
<p>A simple example:</p>
<pre class="prettyprint linenums"><code class="prettyprint linenums"> @Parameter(name = "testing", usage = "a simple test",&#x000A;        options = {&#x000A;                @Option(name = 'f', longName = "foo", description = "enable foo"),&#x000A;                @Option(name = 'e', longName = "equal", description = "enable equal",&#x000A;                        hasValue = true, required = true),&#x000A;                @Option(name = 'D', description = "define properties",&#x000A;                        hasValue = true, required = true, isProperty = true)&#x000A;        })&#x000A;class MyCommand1 {&#x000A;   ...&#x000A;   CommandLineParser parser = ParserGenerator.generateParser(MyCommand1.class);</code></pre>
<p>}</p>
<p>Here we define a Parser for a command that has the name &#8220;testing&#8221; with three defined options. More information regarding how to parse and get the options is explained in the Usage section below.</p>
<p><br/></p>
<h2>Builder</h2>
<p/>
<p>It is also possible to create a parser by using the builder classes. As with annotations there are two classes; <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/ParserBuilder.java">ParserBuilder</a> and <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/OptionBuilder.java">OptionBuilder</a>.<br />
A simple example on how they can be used:</p>
<pre class="prettyprint linenums"><code class="prettyprint linenums">public class MyCommand1 {&#x000A;...&#x000A;ParserBuilder pb = new ParserBuilder().name("less").usage("less is more");&#x000A;        pb.addOption(&#x000A;                new OptionBuilder().description("version").name('V').longName("version")&#x000A;                        .hasValue(false).required(true).create());&#x000A;        pb.addOption(&#x000A;                new OptionBuilder().description("is verbose").name('v').longName("verbose")&#x000A;                        .hasValue(false).create());&#x000A;        pb.addOption(&#x000A;                new OptionBuilder().description("attributes").name('D')&#x000A;                        .isProperty(true).create());&#x000A;        pb.addOption(&#x000A;                new OptionBuilder().description("values").longName("values")&#x000A;                        .hasMultipleValues(true).create());&#x000A;...&#x000A;        CommandLineParser clp = pb.generateParser();&gt;&#x000A;...&#x000A;}</code></pre>
<p>How the parser is used is described in the section below.</p>
<p><br/></p>
<h2>Usage</h2>
<p/>
<p>When using annotations you create the parser like:</p>
<pre class="prettyprint linenums"><code class="prettyprint linenums">CommandLineParser parser = ParserGenerator.generateParser(MyCommand1.class);</code></pre>
<p>- and with a builder you use:</p>
<pre class="prettyprint linenums"><code class="prettyprint linenums">CommandLineParser parser = ParserBuilder(....).generateParser();</code></pre>
<p>The <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/CommandLineParser.java">CommandLineParser</a> object has two tasks. First is to parse a command line and the other is to print out usage info based on the defined parameter and options.</p>
<p>To parse a line simply do:</p>
<pre class="prettyprint linenums"><code class="prettyprint linenums">CommandLine cl = commandLineParser.parse(inputString);</code></pre>
<p>The <a href="https://github.com/aeshell/aesh/blob/master/src/main/java/org/jboss/aesh/cl/CommandLine.java">CommandLine</a> class have many defined methods of checking if specific options where enabled and with what value.</p>
<p>Please note that if any unspecified options are found an IllegalArgumentException will be thrown. Also, if a required option is not found or options specified with a value, but is not given any an IllegalArgumentException will be thrown.</p>
<p>The CommandLine also feature a nice way of printing out a usage text (help info). This text is parsed from the defined parameter/options.</p>
<p>- a better and more complex example will come..</p>
    </div>
  </div>
</div>
      <hr />
      <footer>
        <p>&copy; Red Hat 2013</p>
      </footer>
    </div>
  </body>
</html>
